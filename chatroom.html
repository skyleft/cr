<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/common.css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script>
        $(function(){
            var iosocket = io.connect();

            iosocket.on('connect', function () {
                $('#output').append($('<li>Connected</li>'));

                iosocket.on('message', function(message) {
                    $('#output').append($('<li></li>').text(message));
                });
                iosocket.on('disconnect', function() {
                    $('#output').append('<li>Disconnected</li>');
                });
            });

            $('#input').keypress(function(event) {
                if(event.which == 13) {
                    event.preventDefault();
                    iosocket.send($('#input').val());
                    $('#output').append($('<li></li>').text($('#input').val()));
                    $('#input').val('');
                }
            });
        });
    </script>
</head>
<body>
<article class="container">
<section class="row" id="contact">

    <div class="span10 panel" style="display: block;height: 500px;">
        <h3>A  Demo  ChatRoom!</h3>
        <ul id="output"></ul>

    </div>
    <div class="span10">
        <textarea class="panel" style="width:100%;height: 56px;" id="input">请输入。。。[按回车键发送]</textarea>
    </div>
</section>
</article>
<div class="container marketing">
    <footer>
        <p class="pull-right"><a href="#"></a></p>
    </footer>
</div>
</body>
</html>
